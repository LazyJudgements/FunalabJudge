FROM node:21-slim

ARG NODE_ENV
ENV NODE_ENV ${NODE_ENV}
EXPOSE 5173

COPY --chown=node:node . /home/node
WORKDIR /home/node/frontend
RUN npm install

USER node
CMD [ "npm", "run", "dev" ]